!function(){"use strict";var e=function(){this.config={resumeOnFailed:!1}},t=t?t:new e,r=[],n={dateFormat:function(e,t){var r={"M+":e.getMonth()+1,"d+":e.getDate(),"h+":e.getHours(),"m+":e.getMinutes(),"s+":e.getSeconds(),"q+":Math.floor((e.getMonth()+3)/3),S:e.getMilliseconds()};/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(e.getFullYear()+"").substr(4-RegExp.$1.length)));for(var n in r)new RegExp("("+n+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?r[n]:("00"+r[n]).substr((""+r[n]).length)));return t},extend:function(e,t){for(var r in t)e[r]=t[r];return e},inArray:function(e,t){for(var r=0;r<e.length;r++)if(e[r]===t)return!0;return!1},split:function(e,t,r){if(!e)return[];for(var n=e.split(r),i=[],a=0;a<n.length;a++)for(var f=n[a].split(t),u=0;u<f.length;u++)a>0&&0===u?i[i.length-1]+=t+f[u]:i.push(f[u]);return i},"typeof":function(e){var t=Object.prototype.toString.call(e),r=(t=t.split(" "))&&t.length>1?t[1].substr(0,t[1].length-1):"";return r.toLowerCase()},trim:function(e){return e.replace(/(^\s*)|(\s*$)/g,"")},getStrLength:function(e){for(var t=0,r=0;r<e.length;r++){var n=e.charCodeAt(r);n>=1&&n<=126||65376<=n&&n<=65439?t++:t+=2}return t}};e.prototype.requires={required:function(e,t){return!!e[t]},required_if:function(){if(arguments.length<4||arguments.length%2!=0)return!1;for(var e=arguments[0],t=arguments[1],r=2;r<arguments.length;r+=2){var n=arguments[r],i=arguments[r+1];if(!e[n]||e[n]!=i)return!0}return this.requires.required(t)},required_with:function(){if(arguments.length<3)return!1;for(var e=arguments[0],t=arguments[1],r=2;r<arguments.length;r++)if(arguments[r]in e)return this.requires.required(t);return!0},required_with_all:function(){if(arguments.length<3)return!1;for(var e=arguments[0],t=arguments[1],r=2;r<arguments.length;r++)if(!(arguments[r]in e))return!0;return this.requires.required(t)},required_without:function(){if(arguments.length<3)return!1;for(var e=arguments[0],t=arguments[1],r=2;r<arguments.length;r++)if(!(arguments[r]in e))return this.requires.required(t);return!0},required_without_all:function(){if(arguments.length<3)return!1;for(var e=arguments[0],t=arguments[1],r=2;r<arguments.length;r++)if(arguments[r]in e)return!0;return this.requires.required(t)}},e.prototype.validators={accepted:/^(yes|on|1|true)$/i,after:function(e,t,r){var n=Date.parse(r),i=Date.parse(t);return!isNaN(n)&&!isNaN(i)&&n<i},alpha:/^[A-Za-z]+$/,alpha_dash:/^[0-9A-Za-z_-]+$/,alpha_num:/^[0-9A-Za-z]+$/,array:function(e,t){return"[object Array]"===Object.prototype.toString.apply(t)},before:function(e,t,r){var n=Date.parse(r),i=Date.parse(t);return!isNaN(n)&&!isNaN(i)&&n>i},between:function(e,t,r,i){var a=!1;switch(r=Number(r),i=Number(i),n["typeof"](t)){case"string":a=n.getStrLength(t)>=r&&n.getStrLength(t)<=i;break;case"number":a=t>=r&&t<=i;break;case"filelist":a=!!t.length;for(var f in t)if(a&&t.hasOwnProperty(f)&&"file"===n["typeof"](t[f])){var u=t[f];if(a=a&&parseInt(u.size/1024)>=r&&parseInt(u.size/1024)<=i,!a)break}break;case"file":a=parseInt(t.size/1024)>=r&&parseInt(t.size/1024)<=i}return a},"boolean":/^(true|false|1|0|"1"|"0"|'1'|'0')$/i,date:function(e,t){return!isNaN(Date.parse(t))},date_format:function(e,t,r){var i=new Date(Date.parse(t)),a=n.dateFormat(i,r);return t===a},different:function(e,t,r){return t!=e[r]},digits:function(e,t,r){var n=new RegExp("^[0-9]{"+r+"}$");return n.test(t)},digits_between:function(e,t,r,n){var i=new RegExp("^[0-9]{"+r+","+n+"}$");return i.test(t)},email:/\w[-\w.+]*@([A-Za-z0-9][-A-Za-z0-9]+\.)+[A-Za-z]{2,14}/,"in":function(){return!(arguments.length<=2)&&n.inArray(Array.prototype.slice.call(arguments,2),arguments[1])},integer:function(e,t){return"number"===n["typeof"](t)&&isFinite(t)&&(0|t)===t},ip:function(e,t){var r=/((?:(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d)))\.){3}(?:25[0-5]|2[0-4]\d|((1\d{2})|([1-9]?\d))))/,n=/^((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?$/;return r.test(t)||n.test(t)},max:function(e,t,r){var i=!1;switch(r=Number(r),n["typeof"](t)){case"string":i=n.getStrLength(t)<=r;break;case"number":i=t<=r;break;case"filelist":i=!!t.length;for(var a in t)if(i&&t.hasOwnProperty(a)&&"file"===n["typeof"](t[a])){var f=t[a];i=i&&parseInt(f.size/1024)<=r}break;case"file":i=parseInt(t.size/1024)<=r}return i},mimes:function(){if(arguments.length<=2)return!1;var e,t,r=arguments[1],n=/\.([^\.]*)?$/;return!(null===(e=n.exec(r))||e.length<2)&&(t=e[1],this.validators.inArray(Array.prototype.slice.call(arguments,2),t))},min:function(e,t,r){var i=!1;switch(r=Number(r),n["typeof"](t)){case"string":i=n.getStrLength(t)<=max;break;case"number":i=t>=r;break;case"filelist":i=!!t.length;for(var a in t)if(i&&t.hasOwnProperty(a)&&"file"===n["typeof"](t[a])){var f=t[a];if(i=i&&parseInt(f.size/1024)>=r,!i)break}break;case"file":i=parseInt(t.size/1024)>=r}return i},not_in:function(){return!(arguments.length<=2)&&!this.validators.inArray(Array.prototype.slice.call(arguments,2),arguments[1])},numeric:function(e,t){return"number"===n["typeof"](t)&&isFinite(t)},regex:function(e,t,r){var n=new RegExp(r);return n.test(t)},same:function(e,t,r){return t===e[r]},size:function(e,t,r){var i=!1;switch(r=Number(r),n["typeof"](t)){case"string":i=r===t.length;break;case"number":i=t===r;break;case"filelist":i=!!t.length;for(var a in t)if(i&&t.hasOwnProperty(a)&&"file"===n["typeof"](t[a])){var f=t[a];i=i&&parseInt(f.size/1024)===r}break;case"file":i=parseInt(t.size/1024)===r}return i},string:function(e,t){return"string"===n["typeof"](t)},url:/^((https|http|ftp|rtsp|mms)?:\/\/)?(([0-9a-z_!~*\'().&=+$%-]+: )?[0-9a-z_!~*\'().&=+$%-]+@)?(([0-9]{1,3}.){3}[0-9]{1,3}|([0-9a-z_!~*\'()-]+.)*([0-9a-z][0-9a-z-]{0,61})?[0-9a-z].[a-z]{2,6})(:[0-9]{1,4})?((\/?)|(\/[0-9a-z_!~*\'().;?:@&=+$,%#-]+)+\/?)$/},e.prototype.add=function(e,t){"function"===n["typeof"](t)||"regexp"===n["typeof"](t)?this.validators[e]=t:console.error("Invalid validator function or regular expression!")},e.prototype.setConfig=function(e){this.config=n.extend(this.config,e)};var i=function(e){for(var t=n.split(e,"|","\\|"),r=[],i=0;i<t.length;i++){var a=n.split(t[i],":","\\:");if(a.length){var f=a[0],u=[];2===a.length&&(u=n.split(a[1],",","\\,")),f=n.trim(f);for(var s=0;s<u.length;s++)u[s]=n.trim(u[s]);r.push({key:f,value:u})}}return r},a=function(e,r,i,a){if(!(i.key in r))return!0;var f=r[i.key];return"function"===n["typeof"](f)?(i.value.unshift(e,a),f.apply(t,i.value)):"RegExp"===f.constructor.name?f.test(a):void 0},f=function(e,t){for(var u in t){var s,o=t[u];if("object"===n["typeof"](o)&&u in e){if(f.apply(this,[e[u],t[u]])||this.config.resumeOnFailed)continue;return!1}"string"===n["typeof"](o)&&(s=i(o));for(var d=0;d<s.length;d++){var l=s[d].key;s[d].value;if((!a(e,this.requires,s[d],u)||u in e&&!a(e,this.validators,s[d],e[u]))&&(r.push({object:e,field:u,rule:l}),!this.config.resumeOnFailed))return!1}}return!0};e.prototype.validate=function(e,t){if("string"===n["typeof"](e))try{e=JSON.parse(e)}catch(i){return{status:"failed",rejects:[{object:"Invalid JSON string!"}]}}return r=[],f.apply(this,[e,t]),{status:r.length?"failed":"success",rejects:r}},"undefined"!=typeof require&&"undefined"!=typeof module&&"undefined"!=typeof exports?module.exports=new e:"undefined"!=typeof define?define.amd?define(function(){return new e}):define.cmd&&define(function(t,r,n){n.exports=new e}):"undefined"!=typeof window&&(window.Validator=new e)}();